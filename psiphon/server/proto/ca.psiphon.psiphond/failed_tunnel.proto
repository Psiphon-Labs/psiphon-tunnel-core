syntax = "proto3";

package ca.psiphon.psiphond;

import "ca.psiphon.psiphond/base_params.proto";
import "ca.psiphon.psiphond/dial_params.proto";
import "ca.psiphon.psiphond/inproxy_dial_params.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.com/Psiphon-Labs/psiphon-tunnel-core/psiphon/server/pb/psiphond";

message FailedTunnel {
    optional ca.psiphon.psiphond.BaseParams base_params = 1;
    optional ca.psiphon.psiphond.DialParams dial_params = 2;
    optional ca.psiphon.psiphond.InproxyDialParams inproxy_dial_params = 3;

    // Fields 1-99 are reserved for field groupings.

    optional int64 bytes_down = 100;
    optional int64 bytes_up = 101;
    optional google.protobuf.Timestamp client_failed_timestamp = 102;
    optional int64 liveness_test_downstream_bytes = 103;
    optional int64 liveness_test_received_downstream_bytes = 104;
    optional int64 liveness_test_sent_upstream_bytes = 105;
    optional int64 liveness_test_upstream_bytes = 106;
    optional double record_probability = 107;
    optional string tunnel_error = 108; //LowCardinality
}
